<!DOCTYPE html>
<html class="light" lang="vi" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <head th:fragment="adminHead">
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <title th:text="${pageTitle} ?: 'ShenPCare Admin Dashboard'">ShenPCare Admin Dashboard</title>

        <link rel="icon" href="data:,">

        <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

        <link rel="preconnect" href="https://fonts.googleapis.com"/>
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
        <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>
        <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" rel="stylesheet"/>

        <style>
            .material-symbols-outlined { font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24; }
            body { font-family: "Plus Jakarta Sans", sans-serif; }
            /* Animation cho thông báo */
            @keyframes fadeInDown {
                from { opacity: 0; transform: translateY(-10px); }
                to { opacity: 1; transform: translateY(0); }
            }
            .animate-fade-in-down { animation: fadeInDown 0.3s ease-out forwards; }
        </style>
        <script>
            tailwind.config = {
                theme: {
                    extend: {
                        colors: {
                            background: { light: "#F0F8F7" },
                            brand: { dark: "#03594D", accent: "#D8E268" }
                        },
                        fontFamily: { display: ["Plus Jakarta Sans", "sans-serif"] }
                    }
                }
            }
        </script>
    </head>

    <body class="font-display bg-background-light" th:fragment="adminShell(content, activeMenu)">
        <div class="flex h-screen w-full flex-col overflow-hidden">
            <div class="flex h-full flex-1 overflow-hidden">
                
                <aside class="flex w-64 flex-col gap-8 border-r border-[#E3E5D2] bg-white px-6 py-8 overflow-y-auto">
                    <div class="flex items-center gap-3">
                        <div class="flex h-10 w-10 items-center justify-center rounded-full bg-[#03594D] text-[#D8E268]">
                            <span class="material-symbols-outlined">pets</span>
                        </div>
                        <p class="text-[#03594D] text-xl font-extrabold tracking-tight">ShenPCare</p>
                    </div>

                    <div class="flex flex-col gap-2">
                        
                        <a th:href="@{/admin/dashboard}"
                           th:classappend="${activeMenu == 'dashboard'} ? 'bg-[#E3E5D2] text-[#03594D]' : 'text-gray-500 hover:bg-gray-50'"
                           class="flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-bold leading-normal tracking-[0.015em] transition-all">
                            <span class="material-symbols-outlined">dashboard</span>
                            <p>Dashboard</p>
                        </a>

                        <a th:href="@{/admin/bookings/list}"
                           th:classappend="${activeMenu == 'bookings'} ? 'bg-[#E3E5D2] text-[#03594D]' : 'text-gray-500 hover:bg-gray-50'"
                           class="flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-bold leading-normal tracking-[0.015em] transition-all">
                            <span class="material-symbols-outlined">calendar_month</span>
                            <p>Lịch hẹn & Booking</p>
                        </a>

                        <a th:href="@{/admin/customers}"
                           th:classappend="${activeMenu == 'customers'} ? 'bg-[#E3E5D2] text-[#03594D]' : 'text-gray-500 hover:bg-gray-50'"
                           class="flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-bold leading-normal tracking-[0.015em] transition-all">
                            <span class="material-symbols-outlined">group</span>
                            <p>Khách hàng & Pet</p>
                        </a>

                        <a th:href="@{/admin/staff}"
                           th:classappend="${activeMenu == 'staff'} ? 'bg-[#E3E5D2] text-[#03594D]' : 'text-gray-500 hover:bg-gray-50'"
                           class="flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-bold leading-normal tracking-[0.015em] transition-all">
                            <span class="material-symbols-outlined">id_card</span>
                            <p>Nhân sự</p>
                        </a>

                        <div class="my-2 border-t border-gray-100"></div>
                        <p class="px-4 text-xs font-bold text-gray-400 uppercase tracking-wider mb-1">Dịch vụ & Kho</p>

                        <a th:href="@{/admin/services}"
                           th:classappend="${activeMenu == 'spa-services'} ? 'bg-[#E3E5D2] text-[#03594D]' : 'text-gray-500 hover:bg-gray-50'"
                           class="flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-bold leading-normal tracking-[0.015em] transition-all">
                            <span class="material-symbols-outlined">spa</span>
                            <p>Dịch vụ Spa</p>
                        </a>

                        <a th:href="@{/admin/clinic/services}"
                           th:classappend="${activeMenu == 'clinic-services'} ? 'bg-[#E3E5D2] text-[#03594D]' : 'text-gray-500 hover:bg-gray-50'"
                           class="flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-bold leading-normal tracking-[0.015em] transition-all">
                            <span class="material-symbols-outlined">medical_services</span>
                            <p>Dịch vụ Khám</p>
                        </a>

                        <a th:href="@{/admin/clinic/pharmacy}"
                           th:classappend="${activeMenu == 'pharmacy'} ? 'bg-[#E3E5D2] text-[#03594D]' : 'text-gray-500 hover:bg-gray-50'"
                           class="flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-bold leading-normal tracking-[0.015em] transition-all">
                            <span class="material-symbols-outlined">medication</span>
                            <p>Kho Dược & Vật tư</p>
                        </a>

                        <a th:href="@{/admin/orders}"
                           th:classappend="${activeMenu == 'orders'} ? 'bg-[#E3E5D2] text-[#03594D]' : 'text-gray-500 hover:bg-gray-50'"
                           class="flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-bold leading-normal tracking-[0.015em] transition-all">
                            <span class="material-symbols-outlined">shopping_cart</span>
                            <p>Đơn thuốc Online</p>
                        </a>

                        <div class="my-2 border-t border-gray-100"></div>
                        <p class="px-4 text-xs font-bold text-gray-400 uppercase tracking-wider mb-1">Vận hành</p>

                        <a th:href="@{/admin/schedule/view}"
                           th:classappend="${activeMenu == 'schedule'} ? 'bg-[#E3E5D2] text-[#03594D]' : 'text-gray-500 hover:bg-gray-50'"
                           class="flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-bold leading-normal tracking-[0.015em] transition-all">
                            <span class="material-symbols-outlined">calendar_clock</span>
                            <p>Xếp ca & Lịch làm</p>
                        </a>


                        <a th:href="@{/admin/report/daily}"
                           th:classappend="${activeMenu == 'reports'} ? 'bg-[#E3E5D2] text-[#03594D]' : 'text-gray-500 hover:bg-gray-50'"
                           class="flex items-center gap-3 rounded-xl px-4 py-3 text-sm font-bold leading-normal tracking-[0.015em] transition-all">
                            <span class="material-symbols-outlined">bar_chart</span>
                            <p>Báo cáo doanh thu</p>
                        </a>

                    </div>

                    <div class="mt-auto">
                        <form th:action="@{/logout}" method="post">
                            <button type="submit" class="flex w-full items-center gap-3 rounded-xl px-4 py-3 text-sm font-bold leading-normal tracking-[0.015em] hover:bg-red-50 hover:text-red-600 transition-colors text-[#03594D]">
                                <span class="material-symbols-outlined">logout</span>
                                <p>Đăng xuất</p>
                            </button>
                        </form>
                    </div>
                </aside>

                <div class="flex flex-1 flex-col min-w-0">
                    <header class="flex items-center justify-end whitespace-nowrap border-b border-[#E3E5D2] bg-white px-8 py-3 sticky top-0 z-40 shadow-sm">
                        <div class="flex items-center gap-4">
                            <div class="flex flex-col text-right">
                                <h1 class="text-[#03594D] text-base font-medium leading-normal" th:text="${currentUser} ?: 'Admin'">Admin</h1>
                                <p class="text-gray-500 text-xs font-normal">Quản trị viên</p>
                            </div>
                            <div class="bg-gray-200 rounded-full h-10 w-10 flex items-center justify-center text-[#03594D]">
                                <span class="material-symbols-outlined">person</span>
                            </div>
                        </div>
                    </header>

                    <main class="flex-1 p-8 bg-background-light overflow-y-auto">
                        <div th:replace="${content}"></div>
                    </main>
                </div>
            </div>
        </div>
    </body>
</html>