<!DOCTYPE html>
<html class="light" lang="vi" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="utf-8"/>
        <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
        <title>Đăng nhập Admin - Petcare</title>

        <!-- Tailwind CDN (giữ để layout giống mẫu) -->
        <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>

        <!-- CSS riêng của dự án -->
        <link rel="stylesheet" th:href="@{/css/admin-auth.css}"/>

        <link rel="stylesheet"
              href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
              crossorigin="anonymous"
              referrerpolicy="no-referrer"/>
        <script id="tailwind-config">
            tailwind.config = {
                darkMode: "class",
                theme: {
                    extend: {
                        colors: {
                            primary: "#d8e268",
                            "background-light": "#f8f8f6",
                            "background-dark": "#1f2012",
                            "brand-text": "#03594D",
                            "brand-accent": "#D8E268",
                            "brand-error": "#FF6B6B",
                            "brand-placeholder": "#A0A0A0",
                        },
                        fontFamily: {
                            display: ["Plus Jakarta Sans", "Noto Sans", "sans-serif"]
                        },
                        borderRadius: {
                            DEFAULT: "1rem",
                            lg: "2rem",
                            xl: "3rem",
                            full: "9999px"
                        },
                    },
                },
            }
        </script>
    </head>
    <body class="font-display">
        <div class="relative flex min-h-screen w-full flex-col bg-[#F0F8F7] overflow-x-hidden">
            <div class="flex flex-1 justify-center items-center p-4">
                <div class="w-full max-w-md space-y-8 rounded-lg border border-[#03594D] bg-transparent p-8 lg:p-12">
                    <div class="flex flex-col items-center text-center">
                        <h1 class="text-3xl font-bold text-brand-text mb-2">ShenPCare</h1>
                        <p class="text-brand-text/80 text-base font-normal">
                            Chào mừng trở lại, Quản trị viên!
                        </p>
                    </div>

                    <!-- Thông báo -->
                    <div class="space-y-4">
                        <div th:if="${param.error}" class="flex w-full items-center gap-3 rounded-lg border border-brand-error/50 bg-brand-error/10 p-3 text-brand-error">
                            <span class="fa-solid fa-circle-exclamation text-lg"></span>
                            <p class="text-sm font-medium">Tên đăng nhập hoặc mật khẩu không chính xác.</p>
                        </div>
                        <div th:if="${param.logout}" class="flex w-full items-center gap-3 rounded-lg border border-emerald-500/50 bg-emerald-100 p-3 text-emerald-700">
                            <span class="fa-solid fa-circle-check text-lg"></span>
                            <p class="text-sm font-medium">Bạn đã đăng xuất.</p>
                        </div>
                        <div th:if="${registerSuccess != null}" class="flex w-full items-center gap-3 rounded-lg border border-emerald-500/50 bg-emerald-100 p-3 text-emerald-700">
                            <span class="fa-solid fa-circle-check text-lg"></span>
                            <p class="text-sm font-medium" th:text="${registerSuccess}"></p>
                        </div>
                    </div>

                    <!-- Form login -->
                    <form th:action="@{/admin/login}" method="post" class="space-y-6">
                        <label class="flex flex-col min-w-40 flex-1">
                            <p class="text-brand-text text-base font-medium leading-normal pb-2">Tên đăng nhập</p>
                            <div class="relative flex items-center">
                                <span class="fa-solid fa-user absolute left-4 text-brand-placeholder"></span>
                                <input name="username"
                                       class="form-input flex w-full min-w-0 flex-1 rounded-lg text-brand-text
                                       focus:outline-0 focus:ring-2 focus:ring-brand-accent/50
                                       border border-brand-text/20 bg-white h-14 placeholder:text-brand-placeholder
                                       pl-12 pr-4 text-base font-normal"
                                       placeholder="Nhập tên đăng nhập của bạn"/>
                            </div>
                        </label>

                        <label class="flex flex-col min-w-40 flex-1">
                            <p class="text-brand-text text-base font-medium leading-normal pb-2">Mật khẩu</p>
                            <div class="relative flex items-center">
                                <span class="fa-solid fa-lock absolute left-4 text-brand-placeholder"></span>
                                <input id="admin-password" name="password" type="password"
                                       class="form-input flex w-full min-w-0 flex-1 rounded-lg text-brand-text
                                       focus:outline-0 focus:ring-2 focus:ring-brand-accent/50
                                       border border-brand-text/20 bg-white h-14 placeholder:text-brand-placeholder
                                       pl-12 pr-12 text-base font-normal"
                                       placeholder="Nhập mật khẩu của bạn"/>

                                <button type="button"
                                        class="absolute right-4 text-brand-placeholder toggle-password-btn">
                                    <span class="fa-solid fa-eye"></span>
                                </button>

                            </div>
                        </label>

                        <div class="pt-4 space-y-4">
                            <button type="submit"
                                    class="flex w-full cursor-pointer items-center justify-center rounded-full h-14 px-5
                                    bg-brand-accent text-brand-text text-base font-bold tracking-[0.015em]
                                    hover:bg-opacity-90 transition-colors duration-200">
                                <span class="truncate">Đăng nhập</span>
                            </button>
                            <div class="grid grid-cols-2 gap-4">
                                <a href="/"
                                   class="flex w-full cursor-pointer items-center justify-center rounded-full h-12 px-4
                                   bg-brand-accent text-brand-text text-sm font-bold hover:bg-opacity-90
                                   transition-colors duration-200">
                                    Về Trang chủ
                                </a>
                                <a th:href="@{/admin/register}"
                                   class="flex w-full cursor-pointer items-center justify-center rounded-full h-12 px-4
                                   bg-brand-accent text-brand-text text-sm font-bold hover:bg-opacity-90
                                   transition-colors duration-200">
                                    Đăng ký
                                </a>
                            </div>
                        </div>
                    </form>

                    <div class="flex justify-center pt-2">
                        <a class="text-brand-text text-sm font-medium hover:underline" href="#">
                            Quên mật khẩu?
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <script>
            document.addEventListener('DOMContentLoaded', function () {
                const pwdInput = document.getElementById('admin-password');
                const toggleBtn = document.querySelector('.toggle-password-btn');

                if (!pwdInput || !toggleBtn)
                    return;

                toggleBtn.addEventListener('click', function () {
                    const icon = this.querySelector('span');
                    const isHidden = pwdInput.type === 'password';

                    pwdInput.type = isHidden ? 'text' : 'password';

                    if (icon) {
                        icon.classList.toggle('fa-eye');
                        icon.classList.toggle('fa-eye-slash');
                    }
                });
            });
        </script>

    </body>
</html>
